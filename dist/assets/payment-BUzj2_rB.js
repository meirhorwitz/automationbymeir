import"./modulepreload-polyfill-B5Qt9EMX.js";window.paypal.Buttons({style:{shape:"rect",layout:"vertical",color:"gold",label:"paypal"},async createOrder(){var n;const r=document.getElementById("amount").value;if(!r||parseFloat(r)<=0){c("Please enter a valid payment amount.");return}try{const t=await(await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:r})})).json();if(t.id)return t.id;const s=(n=t==null?void 0:t.details)==null?void 0:n[0],i=s?`${s.issue} ${s.description} (${t.debug_id})`:JSON.stringify(t);throw new Error(i)}catch(o){console.error(o),c(`Could not initiate PayPal Checkout...<br><br>${o}`)}},async onApprove(r,n){var o,t,s,i,u,p,d,y,h;try{const e=await(await fetch(`/api/orders/${r.orderID}/capture`,{method:"POST",headers:{"Content-Type":"application/json"}})).json(),a=(o=e==null?void 0:e.details)==null?void 0:o[0];if((a==null?void 0:a.issue)==="INSTRUMENT_DECLINED")return n.restart();if(a)throw new Error(`${a.description} (${e.debug_id})`);{const m=((u=(i=(s=(t=e==null?void 0:e.purchase_units)==null?void 0:t[0])==null?void 0:s.payments)==null?void 0:i.captures)==null?void 0:u[0])||((h=(y=(d=(p=e==null?void 0:e.purchase_units)==null?void 0:p[0])==null?void 0:d.payments)==null?void 0:y.authorizations)==null?void 0:h[0]);c(`Transaction ${m.status}: ${m.id}<br><br>See console for all available details`),console.log("Capture result",e,JSON.stringify(e,null,2))}}catch(l){console.error(l),c(`Sorry, your transaction could not be processed...<br><br>${l}`)}}}).render("#paypal-button-container");function c(r){const n=document.querySelector("#result-message");n.innerHTML=r}
