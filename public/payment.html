<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" type="image/svg+xml" href="/logos/favicon.svg">
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sxaf839npz");
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-D8GQDGVR08"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-D8GQDGVR08');
</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Payment - Automation by Meir</title>
    <meta name="description" content="Complete your payment securely using PayPal." />
    <link rel="canonical" href="https://automationbymeir.com/payment.html" />
    <link rel="stylesheet" type="text/css" href="https://www.paypalobjects.com/webstatic/en_US/developer/docs/css/cardfields.css" />
    <style>
/* Your existing CSS - No changes made */
        @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@200;400;600;700&display=swap');
        :root {
            --primary: #00e676;
            --primary-dark: #00c853;
            --secondary: #448aff;
            --dark: #0a0a0a;
            --dark-secondary: #1a1a1a;
            --dark-tertiary: #2a2a2a;
            --light: #ffffff;
            --text-primary: #e0e0e0;
            --text-secondary: #9e9e9e;
            --border-color: #333;
            --accent: #fbbc04;
            --danger: #ea4335;
            --gray: #5f6368;
        }
        body {
            font-family: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #000; color: var(--light); min-height: 100vh; overflow-x: hidden;
        }

        h1 {
            font-weight: 200;
        }
        .bg-animation {
            position: fixed; width: 100%; height: 100%; top: 0; left: 0; z-index: -1;
            background: linear-gradient(45deg, #202124 0%, #2d2d30 50%, #202124 100%);
        }
        .bg-animation::before {
            content: ''; position: absolute; width: 200%; height: 200%; top: -50%; left: -50%;
            background: radial-gradient(circle, rgba(66, 133, 244, 0.1) 0%, transparent 50%);
            animation: rotate 30s linear infinite;
        }
        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(51, 51, 51, 0.5);
        }
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            color: var(--light);
            font-size: 1.25rem;
            font-weight: 600;
            font-family: 'IBM Plex Sans', sans-serif;
        }
        .logo img {
            height:40px; width:auto;
            border-radius: 8px;
            padding: 8px;
        }
        .logo .by-meir {
            color: var(--text-secondary);
            font-weight: 400;
            font-size: 0.8em;
        }
        .nav-toggle {
            display: none;
        }
        .nav-links {
            display: flex;
            list-style: none;
            gap: 2.5rem;
            align-items: center;
        }
        .nav-links li {
            position: relative;
        }
        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
        }
        .nav-links a:hover {
            color: var(--light);
        }
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: width 0.3s ease;
        }
        .nav-links a:hover::after {
            width: 100%;
        }
        .dropdown {
            display: none;
            flex-direction: column;
            position: absolute;
            top: calc(100% + 0.5rem);
            left: 0;
            background: var(--dark-secondary);
            border: 1px solid var(--border-color);
            padding: 0.5rem 0;
            border-radius: 8px;
            min-width: 200px;
            z-index: 10;
        }
        .dropdown a {
            padding: 0.5rem 1.5rem;
            white-space: nowrap;
        }
        .dropdown a:hover {
            background: var(--dark-tertiary);
        }
        .dropdown.show {
            display: flex;
        }
        .playground-link { position: relative; }
        .playground-link::after {
            content: 'ðŸŽ®'; position: absolute; right: -20px; top: 50%; transform: translateY(-50%);
            font-size: 0.8rem;
        }
        @media (max-width: 768px) {
            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                right: 0;
                background: var(--dark);
                flex-direction: column;
                padding: 1rem 2rem;
                border: 1px solid var(--border-color);
            }
            .nav-links.show {
                display: flex;
            }
            .nav-links .dropdown {
                position: static;
                background: transparent;
                border: none;
                padding: 0;
            }
            .dropdown a {
                padding: 0.5rem 0;
            }
            .nav-toggle {
                display: block;
                background: none;
                border: none;
                color: var(--light);
                font-size: 1.5rem;
                cursor: pointer;
            }
        }
        .payment-wrapper {
            min-height: 100vh; display: flex; align-items: center; justify-content: center;
            padding: 6rem 2rem 2rem;
        }
        .payment-container {
            background: rgba(41, 42, 46, 0.8); backdrop-filter: blur(10px); border-radius: 20px;
            border: 1px solid rgba(66, 133, 244, 0.2); padding: 3rem; max-width: 95%; width: 100%;
            text-align: center; transition: all 0.3s ease; position: relative; overflow: hidden;
        }
        .payment-container::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 4px; background: var(--gradient);
        }
        .payment-container:hover {
            transform: translateY(-5px); box-shadow: 0 20px 40px rgba(66, 133, 244, 0.3); border-color: var(--primary);
        }
        h1 {
            font-size: 3rem; margin-bottom: 1rem;
            background: linear-gradient(135deg, #4285F4 0%, #34A853 50%, #FBBC04 100%);
            background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            animation: gradientShift 5s ease infinite;
        }
        @keyframes gradientShift { 0%, 100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }
        .payment-subtitle { color: #cbd5e1; font-size: 1.3rem; margin-bottom: 2rem; }
        #paypal-button-container {
            margin: 2rem auto; max-width: 400px; display: flex; justify-content: center;
            align-items: center; min-height: 150px;
            background: transparent !important;
        }
        
        /* Remove PayPal's white background */
        #paypal-button-container > div,
        #paypal-button-container iframe {
            background: transparent !important;
        }
        
        /* Target PayPal's internal elements */
        #paypal-button-container [id^="paypal"],
        #paypal-button-container [class*="paypal"],
        #paypal-button-container [class*="PayPal"] {
            background: transparent !important;
        }
        
        /* Make sure the iframe background is transparent */
        #paypal-button-container iframe {
            background-color: transparent !important;
            background: transparent !important;
        }
        
        /* Override any PayPal wrapper backgrounds */
        .paypal-button-container,
        .paypal-button-container * {
            background: transparent !important;
        }
        
        /* Ensure PayPal buttons container has no background */
        #paypal-button-container {
            background-color: transparent !important;
            background: transparent !important;
            padding: 1rem;
            border-radius: 8px;
        }
        
        /* Style for PayPal's rendered content wrapper */
        #paypal-button-container > div[style*="background"] {
            background: transparent !important;
        }
        
        /* Wrap PayPal iframe in a styled container */
        #paypal-button-container > div {
            background: rgba(22, 22, 22, 0.5) !important;
            border-radius: 8px;
            padding: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Try to make PayPal iframe blend better */
        #paypal-button-container iframe {
            border-radius: 8px;
            background: transparent !important;
        }
        .form-group { margin-bottom: 2rem; text-align: left; }
        .form-group label {
            display: block; margin-bottom: 0.75rem; color: var(--light); font-weight: 600;
            font-size: 1rem; letter-spacing: 0.025em;
        }
        .amount-input-wrapper {
            position: relative; display: flex; align-items: center; background-color: rgba(45, 45, 48, 0.8);
            border: 1px solid rgba(66, 133, 244, 0.3); border-radius: 12px; transition: all 0.3s ease;
            overflow: hidden;
        }
        .amount-input-wrapper:hover {
            border-color: rgba(66, 133, 244, 0.5); box-shadow: 0 0 20px rgba(66, 133, 244, 0.1);
        }
        .amount-input-wrapper:focus-within {
            border-color: var(--primary); box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.2);
        }
        .currency-symbol {
            position: absolute; left: 1.25rem; color: var(--accent); font-size: 1.5rem;
            font-weight: 500; pointer-events: none;
        }
        .form-group input[type="number"] {
            width: 100%; padding: 1rem 1rem 1rem 3rem; border: none; background-color: transparent;
            color: var(--light); font-size: 1.5rem; font-weight: 500; outline: none;
            appearance: none; -moz-appearance: textfield;
        }
        .form-group input[type="number"]::-webkit-inner-spin-button,
        .form-group input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none; margin: 0;
        }
        #result-message {
            margin-top: 2rem; font-size: 1rem; color: var(--secondary);
            background-color: rgba(52, 168, 83, 0.1); padding: 1rem; border-radius: 8px;
            border: 1px solid var(--secondary); display: none;
        }
        #error-message {
            color: var(--danger); background-color: rgba(234, 67, 53, 0.1); padding: 1rem;
            border-radius: 8px; border: 1px solid var(--danger); margin-bottom: 2rem; display: none;
        }
        .loading-spinner {
            width: 48px; height: 48px; border: 3px solid rgba(66, 133, 244, 0.2);
            border-top-color: var(--primary); border-radius: 50%; animation: spin 1s linear infinite;
            margin: 2rem auto;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .security-badge {
            display: flex; align-items: center; justify-content: center; gap: 0.5rem;
            margin-top: 2rem; color: #cbd5e1; font-size: 0.9rem;
        }
        .security-badge svg { width: 20px; height: 20px; fill: var(--secondary); }
        
        /* Package Selection Styles */
        .packages-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2.5rem;
            margin: 2rem 0;
            text-align: left;
        }
        
        .package-card {
            background: rgba(22, 22, 22, 0.6);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 2.5rem;
            position: relative;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
        }
        
        .package-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 230, 118, 0.2);
        }
        
        .package-card.selected {
            border-color: var(--secondary);
            background: rgba(68, 138, 255, 0.1);
            box-shadow: 0 0 20px rgba(68, 138, 255, 0.3);
        }
        
        .package-card.package-featured {
            border-color: var(--primary);
            background: rgba(0, 230, 118, 0.05);
        }
        
        .package-badge {
            position: absolute;
            top: -12px;
            right: 20px;
            background: var(--primary);
            color: var(--dark);
            padding: 6px 16px;
            border-radius: 12px;
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .package-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }
        
        .package-header h3 {
            font-size: 2rem;
            font-weight: 600;
            margin: 0;
            color: var(--light);
        }
        
        .package-price {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }
        
        .price-amount {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .price-note {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-top: 0.25rem;
        }
        
        .package-title {
            font-size: 1.25rem;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
            min-height: 3rem;
            line-height: 1.4;
        }
        
        .package-features {
            list-style: none;
            padding: 0;
            margin: 0 0 1.5rem 0;
            flex-grow: 1;
        }
        
        .package-features li {
            padding: 0.75rem 0;
            color: var(--text-secondary);
            font-size: 1.1rem;
            line-height: 1.6;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .package-features li:last-child {
            border-bottom: none;
        }
        
        .package-features li strong {
            color: var(--light);
            font-weight: 600;
            font-size: 1.15rem;
        }
        
        .package-select-btn {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1.15rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: auto;
        }
        
        .package-select-btn:hover {
            background: var(--primary);
            color: var(--dark);
        }
        
        .package-card.selected .package-select-btn {
            background: var(--secondary);
            border-color: var(--secondary);
            color: white;
        }
        
        .payment-section {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
        }
        
        .selected-package-info {
            background: rgba(68, 138, 255, 0.1);
            border: 1px solid var(--secondary);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            text-align: left;
        }
        
        .selected-package-info h4 {
            margin: 0 0 0.5rem 0;
            color: var(--light);
            font-size: 1.1rem;
        }
        
        .selected-package-info p {
            margin: 0;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .amount-note {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
            text-align: left;
        }
        
        @media (max-width: 1024px) {
            .packages-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }
        
        @media (max-width: 768px) {
            .nav-links { display: none; }
            h1 { font-size: 2rem; }
            .payment-container { padding: 2rem; }
            .payment-wrapper { padding: 5rem 1rem 1rem; }
            .packages-grid {
                gap: 1rem;
            }
            .package-card {
                padding: 1.5rem;
            }
        }
        #header {
            position: fixed;
            width: 100%;
            z-index: 100;
            padding: 40px;
            padding-top: 40px;
            display: flex;
            justify-content: space-between;
            box-sizing: border-box;
            align-items: flex-start;
            top: 0;
            left: 0;
            height: 0;
        }
        #header img{
            height:40px; width:auto;
            backdrop-filter: blur(20px);
            padding: 8px 8px;
            border-radius: 8px;
        }
        nav {
            display:flex;
            flex-direction:row;
            align-items:flex-start;
            padding:24px;
            gap:40px;
            right:32px;
            top:32px;
            background:rgba(13,13,14,0.6);
            backdrop-filter:blur(16px);
            border-radius:8px;
            z-index:100;
            width:25%;
            min-width:min-content;
            flex-wrap:wrap;
            align-content:flex-start;
            justify-content:flex-start;
            box-sizing:border-box;
        }
        nav ul{
            list-style:none;
            padding:0;
            margin:0;
            display:flex;
            flex-direction:column;
            gap:8px;
            width:40%;
            flex-grow:1;
        }
        a{
            color:white;
            text-decoration:none;
        }
        nav a{
            font-size:20px;
            position:relative;
            display:inline-block;
            font-weight:300;
            white-space:nowrap;
        }
        nav a:after{
            content:'';
            display:block;
            width:100%;
            height:1px;
            background:#fff;
            transform:scaleX(0);
            transition:transform 0.2s ease-in-out;
            transform-origin:100% 0 ;
        }
        nav a:hover:after{
            transform:scaleX(1);
            transform-origin:0 0 ;
        }
        nav ul li { position: relative; }
        nav ul li .dropdown-menu {
            display:none;
            background:rgba(13,13,14,0.9);
            border-radius:8px;
            padding:8px 0;
            list-style:none;
            margin:0;
            min-width:220px;
        }
        nav ul li:hover .dropdown-menu { display:block; }
        nav ul li .dropdown-menu a {
            padding:8px 16px;
            display:block;
            font-size:16px;
            white-space:nowrap;
        }
        nav ul li .dropdown-menu a:hover { background:none; }

#hero {
  margin-top: 40px !important; 
  padding-top: 80px !important; 
}


#about .horizontal {
  display: flex;
  gap: 40px;
  align-items: flex-start;
}

#about .horizontal > div:first-child {
  flex: 1;
}

#about .stats {
  width: auto;
  max-width: 300px;
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  margin-top: 8px !important;
  flex-shrink: 0;
}

#about .stats div {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  padding: 12px 20px;
  background: #333333;
  border-radius: 8px;
  font-size: clamp(1.5rem, 4vw, 2rem);
  white-space: nowrap;
  gap: 8px;
  flex: 1;
  min-width: 120px;
  margin-top: 0;
  box-sizing: border-box;
}

#about .stats div p {
  margin: 0;
  font-size: clamp(0.875rem, 2vw, 1rem);
  color: #C4C4C4;
}


.service-card, .project-card, .stat-card, .service-item, .dropped-service {
  overflow: hidden;
  word-wrap: break-word;
  box-sizing: border-box;
}

.service-card *, .project-card *, .stat-card *, .service-item *, .dropped-service * {
  max-width: 100%;
  overflow-wrap: break-word;
}


.menu-toggle {
  display: none;
  flex-direction: column;
  justify-content: space-between;
  width: 30px;
  height: 21px;
  cursor: pointer;
  background: rgba(13, 13, 14, 0.6);
  backdrop-filter: blur(16px);
  padding: 12px;
  border-radius: 8px;
  gap: 3px;
  position: fixed;
  top: 40px;
  right: 40px;
  z-index: 101;
}

.menu-toggle span {
  display: block;
  height: 2px;
  background: #fff;
  border-radius: 2px;
  transition: all 0.3s ease;
}

.menu-toggle.active span:nth-child(1) {
  transform: rotate(45deg) translate(5px, 5px);
}

.menu-toggle.active span:nth-child(2) {
  opacity: 0;
}

.menu-toggle.active span:nth-child(3) {
  transform: rotate(-45deg) translate(5px, -5px);
}


@media (max-width: 768px) {
  #header {
    padding: 16px !important;
    background: rgba(30, 30, 33, 0.95);
    backdrop-filter: blur(10px);
  }

  #header img {
    height: 32px !important;
    padding: 6px !important;
  }

  .menu-toggle {
    display: flex !important;
    top: 16px;
    right: 16px;
  }

  nav {
    display: none !important;
    position: fixed !important;
    top: 70px !important;
    left: 16px !important;
    right: 16px !important;
    width: auto !important;
    max-height: calc(100vh - 100px) !important;
    background: rgba(13, 13, 14, 0.95) !important;
    padding: 24px !important;
    flex-direction: column !important;
    overflow-y: auto !important;
    z-index: 99 !important;
  }

  nav.open {
    display: flex !important;
  }

  #hero {
    min-height: 80vh;
    padding: 40px 20px 40px;
    margin-top: 60px !important;
  }

  #about .horizontal {
    flex-direction: column !important;
  }

  #about .stats {
    width: 100% !important;
    max-width: none !important;
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 12px !important;
    margin-top: 24px !important;
  }

  #about .stats div {
    width: 100% !important;
    min-width: auto !important;
    padding: 10px 16px !important;
  }

  #profile_image {
    width: 100% !important;
    max-width: none !important;
  }
}


#header {
  z-index: 100;
}

nav {
  z-index: 100;
}

.menu-toggle {
  z-index: 101;
}
</style>


</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PZ9XZMFL"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="bg-animation"></div>
    
    <div id="header">
      <a href="index.html"><img src="ma_logo.svg" alt="Automations by Meir" width="196" height="64" /></a>
      <nav>
        <ul>
          <li><a href="index.html#services">Services</a></li>
          <li><a href="index.html#projects">Projects</a></li>
          <li class="dropdown"><a href="#">Showcases</a>
            <ul class="dropdown-menu">
              <li><a href="showcase1.html">Crypto Wallet Tracker</a></li>
              <li><a href="showcase2.html">Business Analytics System</a></li>
              <li><a href="showcase-job-post-pro.html">Job Post Pro</a></li>
            </ul>
          </li>
          <li><a href="why-automation.html">Why Automate</a></li>
          <li><a href="index.html#contact">Contact Us</a></li>
        </ul>
        <ul>
          <li><a href="automation-playground.html">Try live</a></li>
          <li><a href="payment.html">Packages</a></li>
        </ul>
      </nav>
    </div>

    <div class="payment-wrapper">
        <div class="payment-container">
            <h1>Choose Your Package</h1>
            <p class="payment-subtitle">Select a package that fits your needs</p>
            <div id="error-message"></div>
            
            <!-- Package Selection -->
            <div class="packages-grid">
                <div class="package-card" data-package="basic" data-price="300">
                    <div class="package-header">
                        <h3>Basic</h3>
                        <div class="package-price">
                            <span class="price-amount">US$300</span>
                            <span class="price-note">+ taxes & fees</span>
                        </div>
                    </div>
                    <div class="package-title">Prompt Engineering Kickstart</div>
                    <ul class="package-features">
                        <li>Quick consultation (1 session) to identify your workflow goals</li>
                        <li>Integration of an AI model to existing app</li>
                        <li>Database integration</li>
                        <li>Include source code</li>
                        <li>Detailed code comments</li>
                        <li><strong>Revisions:</strong> 0</li>
                        <li><strong>Delivery Time:</strong> 2 days (1 day +US$30)</li>
                    </ul>
                    <button class="package-select-btn" data-package="basic">Select Basic</button>
                </div>

                <div class="package-card package-featured" data-package="standard" data-price="900">
                    <div class="package-badge">Popular</div>
                    <div class="package-header">
                        <h3>Standard</h3>
                        <div class="package-price">
                            <span class="price-amount">US$900</span>
                            <span class="price-note">+ taxes & fees</span>
                        </div>
                    </div>
                    <div class="package-title">Complete AI Integration & Support</div>
                    <ul class="package-features">
                        <li>In-depth workflow analysis</li>
                        <li>Setup of core AI prompts using Claude AI, Gemini, or ChatGPT</li>
                        <li>Integration of an AI model to existing app</li>
                        <li>Database integration</li>
                        <li>Include source code</li>
                        <li>Detailed code comments</li>
                        <li><strong>Revisions:</strong> 1</li>
                        <li><strong>Delivery Time:</strong> 7 days (5 days +US$50)</li>
                    </ul>
                    <button class="package-select-btn" data-package="standard">Select Standard</button>
                </div>

                <div class="package-card" data-package="premium" data-price="1500">
                    <div class="package-header">
                        <h3>Premium</h3>
                        <div class="package-price">
                            <span class="price-amount">US$1,500</span>
                            <span class="price-note">+ taxes & fees</span>
                        </div>
                    </div>
                    <div class="package-title">Premium â€“ Complete AI Integration</div>
                    <ul class="package-features">
                        <li>Full-scale workflow optimization</li>
                        <li>Advanced prompt engineering and multi-platform integration</li>
                        <li>Integration of an AI model to existing app</li>
                        <li>Database integration</li>
                        <li>Include source code</li>
                        <li>Detailed code comments</li>
                        <li><strong>Revisions:</strong> 2</li>
                        <li><strong>Delivery Time:</strong> 21 days (14 days +US$100)</li>
                    </ul>
                    <button class="package-select-btn" data-package="premium">Select Premium</button>
                </div>
            </div>

            <!-- Payment Section -->
            <div class="payment-section" id="payment-section" style="display: none;">
                <h3>Complete Your Payment</h3>
                <div class="selected-package-info" id="selected-package-info"></div>
                <div class="form-group">
                    <label for="amount">Payment Amount (USD)</label>
                    <div class="amount-input-wrapper">
                        <span class="currency-symbol">$</span>
                        <input type="number" id="amount" name="amount" value="300.00" min="1.00" step="0.01" required>
                    </div>
                    <p class="amount-note">You can adjust the amount if needed</p>
                </div>
                <div id="paypal-button-container" class="paypal-button-container">
                    <div class="loading-spinner"></div>
                </div>
                <p id="result-message"></p>
            </div>

            <div class="security-badge">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
                </svg>
                Secure payment powered by PayPal
            </div>
        </div>
    </div>

    <script src="https://www.paypal.com/sdk/js?client-id=AaSn2JSC0jwjh-bbre2EiOkOIbd-L-H7RsN-LUYb1fiQqLZGdCfDlaTn0FQrj_Dc7F28Xo0eUcicOi22&buyer-country=US&currency=USD&components=buttons&enable-funding=venmo"></script>
    
    <script>
        // Package data
        const packages = {
            basic: {
                name: 'Basic',
                title: 'Prompt Engineering Kickstart',
                price: 300,
                features: [
                    'Quick consultation (1 session) to identify your workflow goals',
                    'Integration of an AI model to existing app',
                    'Database integration',
                    'Include source code',
                    'Detailed code comments',
                    'Revisions: 0',
                    'Delivery Time: 2 days (1 day +US$30)'
                ]
            },
            standard: {
                name: 'Standard',
                title: 'Complete AI Integration & Support',
                price: 900,
                features: [
                    'In-depth workflow analysis',
                    'Setup of core AI prompts using Claude AI, Gemini, or ChatGPT',
                    'Integration of an AI model to existing app',
                    'Database integration',
                    'Include source code',
                    'Detailed code comments',
                    'Revisions: 1',
                    'Delivery Time: 7 days (5 days +US$50)'
                ]
            },
            premium: {
                name: 'Premium',
                title: 'Premium â€“ Complete AI Integration',
                price: 1500,
                features: [
                    'Full-scale workflow optimization',
                    'Advanced prompt engineering and multi-platform integration',
                    'Integration of an AI model to existing app',
                    'Database integration',
                    'Include source code',
                    'Detailed code comments',
                    'Revisions: 2',
                    'Delivery Time: 21 days (14 days +US$100)'
                ]
            }
        };

        let selectedPackage = null;
        let paypalButtons = null;

        // Handle package selection
        document.querySelectorAll('.package-select-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const packageType = this.dataset.package;
                selectPackage(packageType);
            });
        });

        function selectPackage(packageType) {
            // Remove previous selection
            document.querySelectorAll('.package-card').forEach(card => {
                card.classList.remove('selected');
            });

            // Add selection to clicked package
            const packageCard = document.querySelector(`[data-package="${packageType}"]`);
            packageCard.classList.add('selected');

            selectedPackage = packages[packageType];
            
            // Update amount field
            const amountInput = document.getElementById('amount');
            amountInput.value = selectedPackage.price.toFixed(2);

            // Show payment section
            const paymentSection = document.getElementById('payment-section');
            paymentSection.style.display = 'block';

            // Update selected package info
            const packageInfo = document.getElementById('selected-package-info');
            packageInfo.innerHTML = `
                <h4>Selected: ${selectedPackage.name} - ${selectedPackage.title}</h4>
                <p>Base Price: US$${selectedPackage.price.toFixed(2)} + taxes & fees</p>
            `;

            // Scroll to payment section
            paymentSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });

            // Re-render PayPal buttons with new amount
            if (paypalButtons) {
                paypalButtons.close();
            }
            renderPayPalButtons();
        }

        // Re-render PayPal buttons when amount changes
        document.getElementById('amount').addEventListener('input', function() {
            if (paypalButtons && parseFloat(this.value) > 0) {
                paypalButtons.close();
                renderPayPalButtons();
            }
        });

        function renderPayPalButtons() {
            const container = document.getElementById('paypal-button-container');
            container.innerHTML = '<div class="loading-spinner"></div>';

            paypalButtons = window.paypal.Buttons({
                style: {
                    shape: "rect",
                    layout: "vertical",
                    color: "white",
                    label: "paypal",
                    tagline: false,
                },
                async createOrder(data, actions) {
                    const amountValue = document.getElementById("amount").value;
                    if (!amountValue || parseFloat(amountValue) <= 0) {
                        resultMessage("Please enter a valid payment amount.");
                        return Promise.reject(new Error("Invalid amount"));
                    }

                    try {
                        const response = await fetch("/api/orders", {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json",
                            },
                            body: JSON.stringify({
                                amount: amountValue
                            }),
                        });

                        const orderData = await response.json();

                        if (response.ok && orderData.id) {
                            return orderData.id;
                        }

                        const errorDetail = orderData?.details?.[0];
                        const errorMessage = errorDetail ?
                            `${errorDetail.issue} ${errorDetail.description} (${orderData.debug_id})` :
                            JSON.stringify(orderData);

                        throw new Error(errorMessage);

                    } catch (error) {
                        console.warn("Server-side order creation failed. Falling back to client-side.", error);
                        return actions.order.create({
                            purchase_units: [{
                                amount: {
                                    currency_code: "USD",
                                    value: amountValue,
                                },
                            }, ],
                        });
                    }
                },
                async onApprove(data, actions) {
                    try {
                        const response = await fetch(`/api/orders/${data.orderID}/capture`, {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json",
                            },
                        });

                        const orderData = await response.json();
                        const errorDetail = orderData?.details?.[0];

                        if (errorDetail?.issue === "INSTRUMENT_DECLINED") {
                            return actions.restart();
                        } else if (errorDetail) {
                            throw new Error(`${errorDetail.description} (${orderData.debug_id})`);
                        }

                        const transaction =
                            orderData?.purchase_units?.[0]?.payments?.captures?.[0] ||
                            orderData?.purchase_units?.[0]?.payments?.authorizations?.[0];

                        resultMessage(
                            `Transaction ${transaction.status}: ${transaction.id}<br><br>See console for all available details`
                        );
                        console.log(
                            "Capture result",
                            orderData,
                            JSON.stringify(orderData, null, 2)
                        );

                    } catch (error) {
                        console.error("Server-side capture failed. Falling back to client-side.", error);
                        return actions.order
                            .capture()
                            .then((details) => {
                                resultMessage(
                                    `Transaction ${details.status}: ${details.id}<br><br>See console for all available details`
                                );
                                console.log("Client-side capture result", details);
                            })
                            .catch((err) => {
                                console.error(err);
                                resultMessage(
                                    `Sorry, your transaction could not be processed...<br><br>${err}`
                                );
                            });
                    }
                },
            });

            paypalButtons.render("#paypal-button-container").then(() => {
                const spinner = document.querySelector("#paypal-button-container .loading-spinner");
                if (spinner) spinner.remove();
            });
        }

        function resultMessage(message) {
            const container = document.querySelector("#result-message");
            container.innerHTML = message;
            container.style.display = "block";
        }
    </script>

    <script src="nav.js" type="module"></script>
</body>
</html>
